SELECT
    CATEGORY,
    COUNT(LTRIM(RTRIM(s.VALUE))) AS PRODUCT_COUNT
FROM
    CATEGORIES
CROSS APPLY
    STRING_SPLIT(products, ',') AS s
GROUP BY CATEGORY
ORDER BY PRODUCT_COUNT
;